import{n as $,i as O,h as S}from"./scheduler.0f962ddd.js";import{F as q,f as B,G as F}from"./index.5aa1e1f3.js";const k=typeof window<"u";let M=k?()=>window.performance.now():()=>Date.now(),b=k?e=>requestAnimationFrame(e):$;const _=new Set;function v(e){_.forEach(t=>{t.c(e)||(_.delete(t),t.f())}),_.size!==0&&b(v)}function z(e){let t;return _.size===0&&b(v),{promise:new Promise(n=>{_.add(t={c:e,f:n})}),abort(){_.delete(t)}}}const w=new Map;let x=0;function A(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function E(e,t){const n={stylesheet:F(t),rules:{}};return w.set(e,n),n}function j(e,t,n,i,s,a,c,m=0){const f=16.666/i;let h=`{
`;for(let u=0;u<=1;u+=f){const y=t+(n-t)*a(u);h+=u*100+`%{${c(y,1-y)}}
`}const p=h+`100% {${c(n,1-n)}}
}`,o=`__svelte_${A(p)}_${m}`,d=q(e),{stylesheet:r,rules:l}=w.get(d)||E(d,e);l[o]||(l[o]=!0,r.insertRule(`@keyframes ${o} ${p}`,r.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${o} ${i}ms linear ${s}ms 1 both`,x+=1,o}function D(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),s=n.length-i.length;s&&(e.style.animation=i.join(", "),x-=s,x||G())}function G(){b(()=>{x||(w.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&B(t)}),w.clear())})}function J(e,t,n,i){if(!t)return $;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return $;const{delay:a=0,duration:c=300,easing:m=O,start:f=M()+a,end:h=f+c,tick:p=$,css:o}=n(e,{from:t,to:s},i);let d=!0,r=!1,l;function g(){o&&(l=j(e,0,1,c,a,m,o)),a||(r=!0)}function u(){o&&D(e,l),d=!1}return z(y=>{if(!r&&y>=f&&(r=!0),r&&y>=h&&(p(1,0),u()),!d)return!1;if(r){const C=y-f,R=0+1*m(C/c);p(R,1-R)}return!0}),g(),p(0,1),u}function K(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,s=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,N(e,s)}}function N(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform;e.style.transform=`${s} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function P(e){const t=e-1;return t*t*t+1}function L(e,{from:t,to:n},i={}){const s=getComputedStyle(e),a=s.transform==="none"?"":s.transform,[c,m]=s.transformOrigin.split(" ").map(parseFloat),f=t.left+t.width*c/n.width-(n.left+c),h=t.top+t.height*m/n.height-(n.top+m),{delay:p=0,duration:o=r=>Math.sqrt(r)*120,easing:d=P}=i;return{delay:p,duration:S(o)?o(Math.sqrt(f*f+h*h)):o,easing:d,css:(r,l)=>{const g=l*f,u=l*h,y=r+l*t.width/n.width,C=r+l*t.height/n.height;return`transform: ${a} translate(${g}px, ${u}px) scale(${y}, ${C});`}}}export{L as a,J as c,K as f};
