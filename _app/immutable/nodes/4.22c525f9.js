import{s as fe,n as le,r as _e}from"../chunks/scheduler.0f962ddd.js";import{S as ue,i as de,g,h as v,j as N,f as w,k as p,a as O,B as me,e as se,s as I,m as ne,r as ge,y as V,c as T,n as ae,u as ve,x as h,v as we,A as j,d as be,t as Ce,w as ke}from"../chunks/index.5aa1e1f3.js";import{d as pe,c as ye}from"../chunks/helpers.2416c1ae.js";import{e as U}from"../chunks/each.c7f25d96.js";async function ze(t,l,a,e,n,i){let s=[],o=t[0][0];for(o.visited=!0,s.push(o);s.length>0;){let r=Ne(o,t,l,a);r?(r.visited=!0,Ee(o,r),s.push(o),o=r,t[o.position[0]][o.position[1]]={...o},t[r.position[0]][r.position[1]]={...r},i(t.map(m=>[...m])),e||await pe(n)):s.length>0&&(o=s.pop())}t[0][0].walls[0]=!1,t[l-1][a-1].walls[2]=!1,i(t.map(r=>[...r]))}function Ne(t,l,a,e){let n=[],[i,s]=t.position,o=[[i-1,s],[i,s+1],[i+1,s],[i,s-1]];for(let[r,m]of o)r>=0&&m>=0&&r<a&&m<e&&!l[r][m].visited&&n.push(l[r][m]);if(n.length>0)return n[Math.floor(Math.random()*n.length)]}function Ee(t,l){let a=t.position[1]-l.position[1],e=t.position[0]-l.position[0];a===1?(t.walls[3]=!1,l.walls[1]=!1):a===-1&&(t.walls[1]=!1,l.walls[3]=!1),e===1?(t.walls[0]=!1,l.walls[2]=!1):e===-1&&(t.walls[2]=!1,l.walls[0]=!1)}async function Me(t,l,a,e,n,i){let s=[],o=new Set,r=null;const m=c=>Math.abs(l-1-c.position[0])+Math.abs(a-1-c.position[1]);let b={cell:t[0][0],parent:null,pathChangeCounter:0,g:0,h:m(t[0][0]),f:m(t[0][0])},u=t[l-1][a-1];for(s.push(b);s.length>0;){let c=s.reduce((d,C)=>d.f<C.f?d:C);if(s=s.filter(d=>d!==c),o.add(c.cell),c.cell.searched=!0,r&&r.pathChangeCounter!==c.pathChangeCounter&&(r.cell.lastChecked=!0),r=c,c.cell===u){let d=c;for(;d;)d.cell.visited=!0,d=d.parent;return t}let z=Se(c,t,l,a,m);for(let d of z)o.has(d.cell)||s.push(d);e?i(t.map(d=>[...d])):(await pe(n),i(t.map(d=>[...d])))}return t}function Se(t,l,a,e,n){let i=[];for(let[s,o]of[[-1,0],[0,1],[1,0],[0,-1]]){let r=t.cell.position[0]+s,m=t.cell.position[1]+o;if(r<0||r>=a||m<0||m>=e)continue;let b=l[r][m];if(Ie(t.cell,b,s,o))continue;let u={cell:b,parent:t,pathChangeCounter:t.pathChangeCounter+1,g:t.g+1,h:n(b),f:t.g+1+n(b)};i.push(u)}return i}function Ie(t,l,a,e){return t.walls[0]&&a===-1||t.walls[1]&&e===1||t.walls[2]&&a===1||t.walls[3]&&e===-1}function ie(t,l,a){const e=t.slice();return e[4]=l[a],e}function oe(t,l,a){const e=t.slice();return e[7]=l[a],e}function re(t){let l,a;return{c(){l=g("div"),this.h()},l(e){l=v(e,"DIV",{class:!0}),N(l).forEach(w),this.h()},h(){p(l,"class",a="cell "+(t[7].walls[0]?"":"no-top")+" "+(t[7].walls[1]?"":"no-right")+" "+(t[7].walls[2]?"":"no-bottom")+" "+(t[7].walls[3]?"":"no-left")+" "+(t[2](t[7])&&t[1]?"start":"")+" "+(t[3](t[7])&&t[1]?"end":"")+" "+(t[7].searched?"searched":"")+" "+(t[7].lastChecked?"last-checked":"")+" svelte-1wgcma3")},m(e,n){O(e,l,n)},p(e,n){n&15&&a!==(a="cell "+(e[7].walls[0]?"":"no-top")+" "+(e[7].walls[1]?"":"no-right")+" "+(e[7].walls[2]?"":"no-bottom")+" "+(e[7].walls[3]?"":"no-left")+" "+(e[2](e[7])&&e[1]?"start":"")+" "+(e[3](e[7])&&e[1]?"end":"")+" "+(e[7].searched?"searched":"")+" "+(e[7].lastChecked?"last-checked":"")+" svelte-1wgcma3")&&p(l,"class",a)},d(e){e&&w(l)}}}function ce(t){let l,a=U(t[4]),e=[];for(let n=0;n<a.length;n+=1)e[n]=re(oe(t,a,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=se()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);l=se()},m(n,i){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(n,i);O(n,l,i)},p(n,i){if(i&15){a=U(n[4]);let s;for(s=0;s<a.length;s+=1){const o=oe(n,a,s);e[s]?e[s].p(o,i):(e[s]=re(o),e[s].c(),e[s].m(l.parentNode,l))}for(;s<e.length;s+=1)e[s].d(1);e.length=a.length}},d(n){n&&w(l),me(e,n)}}}function Te(t){let l,a=U(t[0]),e=[];for(let n=0;n<a.length;n+=1)e[n]=ce(ie(t,a,n));return{c(){l=g("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){l=v(n,"DIV",{class:!0});var i=N(l);for(let s=0;s<e.length;s+=1)e[s].l(i);i.forEach(w),this.h()},h(){p(l,"class","maze justify-center svelte-1wgcma3")},m(n,i){O(n,l,i);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,null)},p(n,[i]){if(i&15){a=U(n[0]);let s;for(s=0;s<a.length;s+=1){const o=ie(n,a,s);e[s]?e[s].p(o,i):(e[s]=ce(o),e[s].c(),e[s].m(l,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=a.length}},i:le,o:le,d(n){n&&w(l),me(e,n)}}}function Be(t,l,a){let{grid:e}=l,{isFinished:n}=l,{isStart:i}=l,{isEnd:s}=l;return t.$$set=o=>{"grid"in o&&a(0,e=o.grid),"isFinished"in o&&a(1,n=o.isFinished),"isStart"in o&&a(2,i=o.isStart),"isEnd"in o&&a(3,s=o.isEnd)},[e,n,i,s]}class De extends ue{constructor(l){super(),de(this,l,Be,Te,fe,{grid:0,isFinished:1,isStart:2,isEnd:3})}}function Ge(t){let l,a,e="Pathfinding Visualizer",n,i,s="DFS for Maze generation and A* for pathfinding is currently used.",o,r,m="Additional algorithms will be implemented for both of them in the future.",b,u,c,z,d,C,x,F,W,G,E,B,Q="No Animation",q,k,H,M,J,P,S,X="Reset Maze",D,K,Y;return M=new De({props:{grid:t[0],isFinished:t[2],isStart:Pe,isEnd:Ve}}),{c(){l=g("div"),a=g("h1"),a.textContent=e,n=I(),i=g("span"),i.textContent=s,o=I(),r=g("span"),r.textContent=m,b=I(),u=g("div"),c=g("button"),z=ne("Generate Maze"),d=I(),C=g("button"),x=ne("Solve Maze"),W=I(),G=g("div"),E=g("label"),B=g("span"),B.textContent=Q,q=I(),k=g("input"),H=I(),ge(M.$$.fragment),J=I(),P=g("div"),S=g("button"),S.textContent=X,this.h()},l(_){l=v(_,"DIV",{class:!0});var f=N(l);a=v(f,"H1",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-16dsupu"&&(a.textContent=e),n=T(f),i=v(f,"SPAN",{class:!0,"data-svelte-h":!0}),V(i)!=="svelte-1kn537z"&&(i.textContent=s),o=T(f),r=v(f,"SPAN",{class:!0,"data-svelte-h":!0}),V(r)!=="svelte-1t0hlv5"&&(r.textContent=m),b=T(f),u=v(f,"DIV",{class:!0});var y=N(u);c=v(y,"BUTTON",{class:!0});var Z=N(c);z=ae(Z,"Generate Maze"),Z.forEach(w),d=T(y),C=v(y,"BUTTON",{class:!0});var $=N(C);x=ae($,"Solve Maze"),$.forEach(w),W=T(y),G=v(y,"DIV",{class:!0});var ee=N(G);E=v(ee,"LABEL",{class:!0});var A=N(E);B=v(A,"SPAN",{class:!0,"data-svelte-h":!0}),V(B)!=="svelte-1eomctc"&&(B.textContent=Q),q=T(A),k=v(A,"INPUT",{name:!0,type:!0,class:!0}),A.forEach(w),ee.forEach(w),y.forEach(w),H=T(f),ve(M.$$.fragment,f),J=T(f),P=v(f,"DIV",{class:!0});var te=N(P);S=v(te,"BUTTON",{class:!0,"data-svelte-h":!0}),V(S)!=="svelte-1honblt"&&(S.textContent=X),te.forEach(w),f.forEach(w),this.h()},h(){p(a,"class","text-4xl font-bold mb-4"),p(i,"class","text-sm text-gray-600 block"),p(r,"class","text-sm text-gray-600 mb-8"),p(c,"class","btn btn-primary"),c.disabled=t[2],p(C,"class","btn btn-primary"),C.disabled=F=!t[2],p(B,"class","label-text"),p(k,"name","instant"),p(k,"type","checkbox"),p(k,"class","toggle toggle-accent ml-4"),k.disabled=t[1],p(E,"class","label cursor-pointer justify-center"),p(G,"class","form-control my-4"),p(u,"class","mt-8"),p(S,"class","btn btn-secondary"),p(P,"class","mt-8"),p(l,"class","justify-center align-middle mx-auto text-center mt-16")},m(_,f){O(_,l,f),h(l,a),h(l,n),h(l,i),h(l,o),h(l,r),h(l,b),h(l,u),h(u,c),h(c,z),h(u,d),h(u,C),h(C,x),h(u,W),h(u,G),h(G,E),h(E,B),h(E,q),h(E,k),k.checked=t[3],h(l,H),we(M,l,null),h(l,J),h(l,P),h(P,S),D=!0,K||(Y=[j(c,"click",t[4]),j(C,"click",t[5]),j(k,"change",t[6]),j(S,"click",ye)],K=!0)},p(_,[f]){(!D||f&4)&&(c.disabled=_[2]),(!D||f&4&&F!==(F=!_[2]))&&(C.disabled=F),(!D||f&2)&&(k.disabled=_[1]),f&8&&(k.checked=_[3]);const y={};f&1&&(y.grid=_[0]),f&4&&(y.isFinished=_[2]),M.$set(y)},i(_){D||(be(M.$$.fragment,_),D=!0)},o(_){Ce(M.$$.fragment,_),D=!1},d(_){_&&w(l),ke(M),K=!1,_e(Y)}}}const L=20,R=20;let he=25;function Pe(t){return t.position[0]===0&&t.position[1]===0}function Ve(t){return t.position[0]===L-1&&t.position[1]===R-1}function Fe(t,l,a){let e=[],n=!1,i=!1,s=!1;for(let u=0;u<L;u++){let c=[];for(let z=0;z<R;z++)c.push({visited:!1,searched:!1,lastChecked:!1,walls:[!0,!0,!0,!0],position:[u,z]});e.push(c)}function o(u){a(0,e=u)}async function r(){a(1,n=!0),await ze(e,L,R,s,he,o),a(0,e=[...e]),a(1,n=!1),a(2,i=!0)}async function m(){a(1,n=!0),await Me(e,L,R,s,he,o),a(1,n=!1)}function b(){s=this.checked,a(3,s)}return[e,n,i,s,r,m,b]}class Ue extends ue{constructor(l){super(),de(this,l,Fe,Ge,fe,{})}}export{Ue as component};
